{% extends 'base.html.twig' %}

{% block title %}Hello AskUserController!{% endblock %}

{% block body %}

            <div class="column is-flex is-align-items-center is-justify-content-center is-two-fifths" style="height: 50%">
                <div class="box" style="height: 100%;width: 100%">
                    Suite à incident : {{ from_inct }} <br>
                    Type d'asset : {{ asset_type }}<br>
                    {% if intervention != " " %}
                        Intervention : {{ intervention }}<br>
                    {% endif %}
                    {% if new_user != " " %}
                        Nouvel arrivant : {{ new_user }}<br>
                    {% endif %}
                    Hostname : {{ hostname }}<br>
                </div>
            </div>

            {{ form_start(final_string_form, {'attr' : {'class' : 'column is-flex-desktop is-justify-content-center is-two-fifths-desktop', 'style' : 'height:50%'} }) }}
{#            <form method="post" class="column is-flex-desktop is-justify-content-center is-two-fifths-desktop" style="height:50%">#}
            <div class="field column">
                <label class="label" for="last_name">Votre code final :</label>

                <div class="is-flex">
                    <div class="control" style="flex: 1">
                        <div class="is-info is-fullwidth">
{#                            <textarea id="final_string" class="textarea" rows="7" style="resize: none">#}
{#Demande faisant suite à incident : {{ from_inct }};#}
{#Type du matériel : {{ asset_type }};#}
{#{% if intervention != 'skip' %}Type d'intervention : {{ intervention }}{% endif %}#}
{#{{ hostname }}#}
{#{% if new_user != 'skip' %}Nouvel arrivant : {{ new_user }}{% endif %}#}

{#</textarea>#}


                            {{ form_widget(final_string_form.final_string) }}
                        </div>
                    </div>
                </div>

                <div class="is-flex mt-3 is-justify-content-end">
                    <a href="#" class="button is-info" id="copy-btn">
                        <i class="fas fa-clone"></i>
                    </a>
                </div>

            </div>
{#            </form>#}

            {{ form_end(final_string_form) }}



    <script>

        // console.log(textAreaContent);
        let copyBtn = document.getElementById('copy-btn');

        copyBtn.addEventListener('click', function () {
            let textArea = document.getElementById('final_string_form_final_string');
            // console.log(textArea);
            // let textAreaContent = textArea.innerHTML;
            // console.log(textAreaContent);
            textArea.select();
            textArea.setSelectionRange(0, 99999); /* For mobile devices */
            document.execCommand('copy');
        })

    </script>

{% endblock %}



